# 微信小程序端 - EcoSorter 智能垃圾分类

## 📱 项目概述

微信小程序端是 EcoSorter 智能垃圾分类系统的移动端入口，为用户提供便捷的垃圾识别、分类指导和积分奖励功能。

## 🚀 功能特性

- 📸 **智能识别**: 拍照识别垃圾类型，支持多种垃圾分类
- 🎯 **精准分类**: 提供详细的分类指南和投放建议
- 🏆 **积分奖励**: 记录分类行为，累积积分兑换奖励
- 📊 **数据统计**: 查看个人分类记录和环保贡献
- 🌐 **社交分享**: 分享环保成果，邀请好友参与

## 📁 目录结构

```
miniprogram/
├── wechat/                 # 微信小程序
│   ├── pages/             # 页面文件
│   │   ├── index/        # 首页
│   │   ├── recognition/  # 垃圾识别页
│   │   ├── result/       # 结果页
│   │   ├── reward/       # 奖励页
│   │   ├── profile/      # 个人中心
│   │   └── login/        # 登录页
│   ├── utils/            # 工具函数
│   │   ├── api.js        # API接口
│   │   └── util.js       # 通用工具
│   ├── images/           # 图片资源
│   ├── app.js           # 小程序入口
│   ├── app.json         # 小程序配置
│   ├── app.wxss         # 全局样式
│   └── project.config.json # 项目配置
├── alipay/               # 支付宝小程序
├── baidu/                # 百度小程序
├── toutiao/             # 字节跳动小程序
└── uni-app/             # UniApp跨端方案
```

## 🛠️ 开发环境

###  prerequisites

- Node.js >= 14.0.0
- 微信开发者工具
- 微信小程序 AppID

### 安装依赖

```bash
# 进入小程序目录
cd miniprogram/wechat

# 安装依赖（如果需要使用npm包）
npm install
```

### 配置说明

1. **修改 AppID**: 在 `project.config.json` 中修改 `appid` 为你的小程序 AppID
2. **配置服务器域名**: 在微信公众平台配置合法域名
3. **环境配置**: 在 `utils/api.js` 中配置 API 基础地址

## 🎨 页面功能

### 首页 (index)
- 显示用户统计数据和积分信息
- 提供快速入口到各功能模块
- 展示今日分类数据和累计贡献

### 垃圾识别 (recognition)
- 调用摄像头进行拍照识别
- 支持前后摄像头切换和闪光灯控制
- 实时显示识别结果和分类建议

### 积分奖励 (reward)
- 显示可兑换的奖励物品
- 积分获取记录和兑换历史
- 奖励兑换流程

### 个人中心 (profile)
- 用户信息管理和设置
- 分类历史记录查询
- 成就系统和环保证书

## 🔧 API 接口

### 基础配置
在 `utils/api.js` 中配置 API 基础地址：

```javascript
const BASE_URL = 'https://api.your-domain.com' // 替换为实际API地址
```

### 主要接口

1. **用户认证**
   - 登录授权
   - 获取用户信息
   - 更新用户资料

2. **垃圾识别**
   - 图片上传识别
   - 识别结果返回
   - 分类建议获取

3. **积分系统**
   - 积分查询
   - 奖励列表
   - 兑换操作

4. **数据统计**
   - 个人分类记录
   - 排行榜数据
   - 环保成就

## 📦 打包发布

### 开发版本
1. 在微信开发者工具中点击"预览"
2. 生成二维码供测试人员扫描

### 体验版本
1. 点击"上传"生成体验版
2. 在微信公众平台设置体验人员

### 正式发布
1. 确保所有功能测试通过
2. 提交审核
3. 审核通过后发布上线

## 🐛 常见问题

### Q: 摄像头权限被拒绝
A: 引导用户在小程序设置中开启摄像头权限

### Q: 图片上传失败
A: 检查网络连接和服务器配置

### Q: 识别结果不准确
A: 优化拍摄角度和光线条件，确保垃圾物品清晰

### Q: 积分未及时更新
A: 检查网络状态，重新拉取用户数据

## 📝 更新日志

### v1.0.0 (2024-01-01)
- ✅ 初始版本发布
- ✅ 基础识别功能
- ✅ 积分系统实现
- ✅ 用户界面设计

## 🤝 参与贡献

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](../LICENSE) 文件了解详情

## 🆘 技术支持

- 📧 邮箱: support@eco-sorter.com
- 💬 微信群: 扫码添加技术支持
- 🐛 Issue: [GitHub Issues](https://github.com/eco-sorter/issues)

---

**让垃圾分类变得更简单，共建绿色家园！** 🌍